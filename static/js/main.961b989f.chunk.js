(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/mercdev.b139d867.svg"},function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),i=a(8),n=a.n(i),o=(a(15),a(1)),c=a(2),l=a(4),u=a(3),h=a(6),m=a(5),p=a(9),d=a.n(p),v=(a(16),a(17),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.isActive?s.a.createElement("input",{type:"submit",className:"form__button form__button_login",value:"Login",onClick:this.props.onClick,onSubmit:this.props.onClick}):this.props.isActive?void 0:s.a.createElement("input",{type:"button",className:"form__button form__button_logout",value:"Logout",onClick:this.props.onClick})}}]),t}(r.PureComponent)),f=(a(18),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.textError;return this.props.checkError?s.a.createElement("div",{className:"form__error"},e):null}}]),t}(r.PureComponent)),E=(a(19),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!this.props.isActive)return null;var e="form",t="form__input";return this.props.checkError?(e="form form_error",t="form__input form__input_email_error"):(e="form",t="form__input"),s.a.createElement("form",{className:e,onSubmit:this.props.onClick},s.a.createElement("div",{className:"form__form-name"},"Log In"),s.a.createElement("input",{className:t,id:"email",type:"email",placeholder:"E-Mail",pattern:"([a-z0-9_-]+@[a-z0-9-]+\\\\.[a-z]{2,6})",onChange:this.props.onChangeEmail,value:this.props.valueEmail,required:!0,autoFocus:!0}),s.a.createElement("input",{className:"form__input form__input_password",id:"password",type:"password",placeholder:"Password",onChange:this.props.onChangePassword,value:this.props.valuePassword}),s.a.createElement(f,{checkError:this.props.checkError,textError:this.props.textError}),s.a.createElement(v,{isActive:this.props.isActive,onClick:this.props.onClick}))}}]),t}(r.PureComponent)),k=(a(20),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.isActive?null:s.a.createElement("form",{className:"form form_logout"},s.a.createElement("img",{className:"form__user-avatar",src:this.props.userAvatar,alt:this.props.userName}),s.a.createElement("div",{className:"form__username"},this.props.userName),s.a.createElement(v,{isActive:this.props.isActive,onClick:this.props.onClick}))}}]),t}(r.PureComponent)),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isActive:!0,valueEmail:"",valuePassword:"",userName:"",userAvatar:"",textError:"",checkError:!1},a.handleChangeEmail=a.handleChangeEmail.bind(Object(h.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(h.a)(a)),a.handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.state.isActive?this.isValid():this.state.isActive||this.showLogin()}},{key:"isValid",value:function(){var e=this.state.valueEmail,t=this.state.valuePassword;""===e||""===t?this.addErrorNotification("E-Mail or password is not entered"):/^[a-z0-9_-]+@[a-z0-9-]+\.[a-z]{2,6}$/.test(e)?this.requestUser(e,t):this.addErrorNotification("E-Mail doesn't match format")}},{key:"requestUser",value:function(e,t){var a=this,r=new Headers;r.append("Content-Type","application/json"),fetch("https://us-central1-mercdev-academy.cloudfunctions.net/login",{method:"POST",headers:r,mode:"cors",cache:"force-cache",body:JSON.stringify({email:e,password:t,credentials:"include"})}).then((function(e){e.ok?e.json().then((function(e){a.showLogout(e.name,e.photoUrl)})):(console.log("Error"),a.addErrorNotification("E-Mail or password is incorrect"))}))}},{key:"showLogin",value:function(){this.setState({isActive:!this.state.isActive,userName:"",userAvatar:""})}},{key:"showLogout",value:function(e,t){this.setState({isActive:!this.state.isActive,userName:e,userAvatar:t,valueEmail:"",valuePassword:"",checkError:!1,textError:""})}},{key:"addErrorNotification",value:function(e){this.setState({textError:e,checkError:!0,valuePassword:""})}},{key:"handleChangeEmail",value:function(e){this.setState({valueEmail:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({valuePassword:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"header"},s.a.createElement("img",{className:"logo-mercdev",src:d.a,alt:"mercdev"})),s.a.createElement("div",{className:"main"},s.a.createElement(E,{isActive:this.state.isActive,onClick:this.handleClick,valueEmail:this.state.valueEmail,valuePassword:this.state.valuePassword,onChangeEmail:this.handleChangeEmail,onChangePassword:this.handleChangePassword,textError:this.state.textError,checkError:this.state.checkError}),s.a.createElement(k,{isActive:this.state.isActive,onClick:this.handleClick,userName:this.state.userName,userAvatar:this.state.userAvatar})),s.a.createElement("div",{className:"footer"}))}}]),t}(r.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.961b989f.chunk.js.map