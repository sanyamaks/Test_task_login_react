(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/mercdev.6e5e5d97.svg"},function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(8),i=a.n(n),o=(a(15),a(2)),c=a(3),l=a(5),u=a(4),h=a(1),m=a(6),d=a(9),p=a.n(d),v=(a(16),a(17),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="button";return isNaN(this.props.className)&&(e+=" "+this.props.className),s.a.createElement("input",{type:"submit",className:e,value:this.props.value,onClick:this.props.onClick,onSubmit:this.props.onClick})}}]),t}(r.PureComponent)),f=(a(18),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.textError;return this.props.checkError?s.a.createElement("div",{className:"form__error"},e):null}}]),t}(r.PureComponent)),E=(a(19),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={valueEmail:"",valuePassword:"",textError:"",checkError:!1},a.handleChangeEmail=a.handleChangeEmail.bind(Object(h.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(h.a)(a)),a.handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.isValid()}},{key:"isValid",value:function(){var e=this.state.valueEmail,t=this.state.valuePassword;""===e||""===t?this.addErrorNotification("E-Mail or password is not entered"):/^[a-z0-9_-]+@[a-z0-9-]+\.[a-z]{2,6}$/.test(e)?this.requestUser(e,t):this.addErrorNotification("E-Mail doesn't match format")}},{key:"requestUser",value:function(e,t){var a=this,r=new Headers;r.append("Content-Type","application/json"),fetch("https://us-central1-mercdev-academy.cloudfunctions.net/login",{method:"POST",headers:r,mode:"cors",cache:"force-cache",body:JSON.stringify({email:e,password:t,credentials:"include"})}).then((function(e){e.ok?e.json().then((function(e){a.props.giveUserData(e.name,e.photoUrl),a.showLogout()})):a.addErrorNotification("E-Mail or password is incorrect")}))}},{key:"addErrorNotification",value:function(e){this.setState({textError:e,checkError:!0,valuePassword:""})}},{key:"handleChangeEmail",value:function(e){this.setState({valueEmail:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({valuePassword:e.target.value})}},{key:"showLogout",value:function(){this.setState({valueEmail:"",valuePassword:"",checkError:!1,textError:""})}},{key:"render",value:function(){if(!this.props.isActive)return null;var e="form-login",t="form-login__input";return this.state.checkError&&(e+=" form-login_error",t+=" form-login__input_email-error"),s.a.createElement("form",{className:e,onSubmit:this.handleClick},s.a.createElement("div",{className:"form-login__form-name"},"Log In"),s.a.createElement("input",{className:t,id:"email",type:"email",placeholder:"E-Mail",pattern:"([a-z0-9_-]+@[a-z0-9-]+\\\\.[a-z]{2,6})",onChange:this.handleChangeEmail,value:this.state.valueEmail,required:!0,autoFocus:!0}),s.a.createElement("input",{className:"form-login__input form-login__input_password",id:"password",type:"password",placeholder:"Password",onChange:this.handleChangePassword,value:this.state.valuePassword}),s.a.createElement(f,{checkError:this.state.checkError,textError:this.state.textError}),s.a.createElement(v,{onClick:this.handleClick,value:"Login",className:"form-login__button"}))}}]),t}(r.PureComponent)),b=(a(20),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.props.clearUserData()}},{key:"render",value:function(){return this.props.isActive?null:s.a.createElement("form",{className:"user-page"},s.a.createElement("img",{className:"user-page__user-avatar",src:this.props.userAvatar,alt:this.props.userName}),s.a.createElement("div",{className:"user-page__username"},this.props.userName),s.a.createElement(v,{onClick:this.handleClick,value:"Logout",className:"user-page__button"}))}}]),t}(r.PureComponent)),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isActive:!0,userName:"",userAvatar:""},a.giveUserData=a.giveUserData.bind(Object(h.a)(a)),a.clearUserData=a.clearUserData.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"giveUserData",value:function(e,t){this.setState({isActive:!this.state.isActive,userName:e,userAvatar:t})}},{key:"clearUserData",value:function(){this.setState({isActive:!this.state.isActive,userName:"",userAvatar:""})}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("header",{className:"header"},s.a.createElement("img",{className:"logo-mercdev",src:p.a,alt:"mercdev"})),s.a.createElement("main",{className:"main"},s.a.createElement(E,{isActive:this.state.isActive,giveUserData:this.giveUserData}),s.a.createElement(b,{isActive:this.state.isActive,userName:this.state.userName,userAvatar:this.state.userAvatar,clearUserData:this.clearUserData})),s.a.createElement("footer",{className:"footer"}))}}]),t}(r.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.8a8ee9d6.chunk.js.map